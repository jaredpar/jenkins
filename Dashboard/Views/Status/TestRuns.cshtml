@model List<Dashboard.Models.TestRunComparison>

@{
    ViewBag.Title = $"Test Runs Summary";

    var timeValues = string.Join(
        ";",
        Model.Select(x => $"{x.Date.ToLocalTime().ToString("yyyy-MM-dd")},{x.TimeLegacy.TotalMinutes},{x.TimeNoCache.TotalMinutes},{x.TimeCached.TotalMinutes}"));

    var countValues = string.Join(
        ";",
        Model.Select(x => $"{x.Date.ToLocalTime().ToString("yyyy-MM-dd")},{x.CountNoCached},{x.CountCached},{x.CountHighCached}"));
}

<div id="testrun_comparison_time_chart" style="width: 900px; height: 500px" data-values="@timeValues"></div>
<div id="testrun_comparison_count_chart" style="width: 900px; height: 500px" data-values="@countValues"></div>

@section scripts {
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="@Url.Content("/Scripts/testrun-data.js")" ></script>
}
